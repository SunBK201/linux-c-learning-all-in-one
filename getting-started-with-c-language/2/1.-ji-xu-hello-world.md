# 1. 继续Hello World

在[第 4 节 “第一个程序”](../1/1.4/)中，读者应该已经尝试对Hello world程序做各种改动看编译运行结果，其中有些改动会导致编译出错，有些改动会影响程序的输出，有些改动则没有任何影响，下面我们总结一下。首先，注释可以跨行，也可以穿插在程序之中，看下面的例子。

{% code title="例 2.1. 带更多注释的Hello World" %}
```c
#include <stdio.h>

/* 
 * comment1
 * main: generate some simple output
 */

int main(void)
{
    printf(/* comment2 */"Hello, world.\n"); /* comment3 */
    return 0;
}
```
{% endcode %}

第一个注释跨了四行，头尾两行是注释的界定符（Delimiter）/\*和\*/，中间两行开头的\*号（Asterisk）并没有特殊含义，只是为了看起来整齐，这不是语法规则而是大家都遵守的C代码风格（Coding Style）之一，代码风格将在第 9 章 _编码风格_详细介绍。

使用注释需要注意两点：

1. 注释不能嵌套（Nest）使用，就是说一个注释的文字中不能再出现/\*和\*/了，例如`/* text1 /* text2 */ text3 */`是错误的，编译器只把`/* text1 /* text2 */`看成注释，后面的 `text3 */`无法解析，因而会报错。
2. 有的C代码中有类似`// comment`的注释，两个/斜线（Slash）表示从这里直到该行末尾的所有字符都属于注释，这种注释不能跨行，也不能穿插在一行代码中间。这是从C++借鉴的语法，在C99中被标准化。

{% hint style="info" %}
#### C语言标准

C语言的发展历史大致上分为三个阶段：Old Style C、C89和C99。Ken Thompson和Dennis Ritchie最初发明C语言时有很多语法和现在最常用的写法并不一样，但为了向后兼容性（Backward Compatibility），这些语法仍然在C89和C99中保留下来了，本书不详细讲Old Style C，但在必要的地方会加以说明。C89是最早的C语言规范，于1989年提出，1990年首先由ANSI（美国国家标准委员会，American National Standards Institute）推出，后来被接纳为ISO国际标准（ISO/IEC 9899:1990），因而有时也称为C90，最经典的C语言教材[\[K\&R\]](https://akaedu.github.io/book/bi01.html#bibli.kr)就是基于这个版本的，C89是目前最广泛采用的C语言标准，大多数编译器都完全支持C89。C99标准（ISO/IEC 9899:1999）是在1999年推出的，加入了许多新特性，但目前仍没有得到广泛支持，在C99推出之后相当长的一段时间里，连`gcc`也没有完全实现C99的所有特性。C99标准详见[\[C99\]](https://akaedu.github.io/book/bi01.html#bibli.c99)。本书讲C的语法以C99为准，但示例代码通常只使用C89语法，很少使用C99的新特性。

C标准的目的是为了精确定义C语言，而不是为了教别人怎么编程，C标准在表达上追求准确和无歧义，却十分不容易看懂，[\[Standard C\]](https://akaedu.github.io/book/bi01.html#bibli.standardc)和[\[Standard C Library\]](https://akaedu.github.io/book/bi01.html#bibli.standardclib)是对C89及其修订版本的阐释（可惜作者没有随C99更新这两本书），比C标准更容易看懂，另外，参考[\[C99 Rationale\]](https://akaedu.github.io/book/bi01.html#bibli.rationale)也有助于加深对C标准的理解。
{% endhint %}

像`"Hello, world.\n"`这种由双引号（Double Quote）引起来的一串字符称为字符串字面值（String Literal），或者简称字符串。注意，程序的运行结果并没有双引号，`printf`打印出来的只是里面的一串字符`Hello, world.`，因此双引号是字符串字面值的界定符，夹在双引号中间的一串字符才是它的内容。注意，打印出来的结果也没有这两个字符，这是为什么呢？在[第 2 节 “自然语言和形式语言”](../1/1.2.md)中提到过，C语言规定了一些转义序列（Escape Sequence），这里的并不表示它的字面意思，也就是说并不表示\和n这两个字符本身，而是合起来表示一个换行符（Line Feed）。例如我们写三条打印语句：

```c
printf("Hello, world.\n");
printf("Goodbye, ");
printf("cruel world!\n");
```

运行的结果是第一条语句单独打到第一行，后两条语句都打到第二行。为了节省篇幅突出重点，以后的例子通常省略`#include`和`int main(void) { ... }`这些Boilerplate，但读者在练习时需要加上这些构成一个完整的程序才能编译通过。C标准规定的转义字符有以下几种：



