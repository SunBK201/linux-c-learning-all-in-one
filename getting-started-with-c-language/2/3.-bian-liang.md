# 3. 变量

变量（Variable）是编程语言最重要的概念之一，变量是计算机存储器中的一块命名的空间，可以在里面存储一个值（Value），存储的值是可以随时变的，比如这次存个字符`'a'`下次存个字符`'b'`，正因为变量的值可以随时变所以才叫变量。

常量有不同的类型，因此变量也有不同的类型，变量的类型也决定了它所占的存储空间的大小。例如以下四个语句定义了四个变量`fred`、`bob`、`jimmy`和`tom`，它们的类型分别是字符型、整型、浮点型：

```c
char fred;
int bob;
float jimmy;
double tom;
```

{% hint style="info" %}
#### 声明和定义

C语言中的声明（Declaration）有变量声明、函数声明和类型声明三种。如果一个变量或函数的声明要求编译器为它分配存储空间，那么也可以称为定义（Definition），因此定义是声明的一种。在接下来几章的示例代码中变量声明都是要分配存储空间的，因而都是定义，等学到[第 2 节 “定义和声明”](https://akaedu.github.io/book/ch20s02.html#link.defdecl)我们会看到哪些变量声明不分配存储空间因而不是定义。在下一章我们会看到函数的定义和声明也是这样区分的，分配存储空间的函数声明可以称为函数定义。从[第 7 章 _结构体_](https://akaedu.github.io/book/ch07.html#struct)开始我们会看到类型声明，声明一个类型是不分配存储空间的，但似乎叫“类型定义”听起来也不错，所以在本书中“类型定义”和“类型声明”表示相同的含义。声明和语句类似，也是以;号结尾的，但是在语法上声明和语句是有区别的，语句只能出现在{}括号中，而声明既可以出现在{}中也可以出现在所有{}之外。
{% endhint %}

浮点型有三种，`float`是单精度浮点型，`double`是双精度浮点型，`long double`是精度更高的浮点型它们之间的区别和转换规则将在[第 15 章 _数据类型详解_](https://akaedu.github.io/book/ch15.html#type)详细介绍，在随后的几章中我们只使用`double`类型，上一节介绍的常量3.14应该看作`double`类型的常量，`printf`的`%f`也应该看作`double`型的转换说明。给变量起名不能太随意，上面四个变量的名字就不够好，我们猜不出这些变量是用来存什么的。而像下面这样起名就很好：

```c
char firstletter;
char lastletter;
int hour, minute;
```

我们可以猜得到这些变量是用来存什么的，前两个变量的取值范围应该是`'A'`\~`'Z'`或`'a'`\~`'z'`，变量`hour`的取值范围应该是0\~23，变量`minute`的取值范围应该是0\~59，所以应该给变量起有意义的名字。从这个例子中我们也看到两个相同类型的变量（`hour`和`minute`）可以一起声明。

给变量起名有一定的限制，C语言规定必须以字母或下划线\_（Underscore）开头，后面可以跟若干个字母、数字、下划线，但不能有其它字符。例如这些是合法的变量名：`Abc`、`__abc__`、`_123`。但这些是不合法的变量名：`3abc`、`ab$`。其实这个规则不仅适用于变量名，也适用于所有可以由程序员起名的语法元素，例如以后要讲的函数名、宏定义、结构体成员名等，在C语言中这些统称为标识符（Identifier）。

另外要注意，表示类型的`char`、`int`、`float`、`double`等虽然符合上述规则，但也不能用作标识符。在C语言中有些单词有特殊意义，不允许用作标识符，这些单词称为关键字（Keyword）或保留字（Reserved Word）。通常用于编程的文本编辑器都会高亮显示（Highlight）这些关键字，所以只要小心一点通常不会误用作标识符。C99规定的关键字有：

auto  break  case  char  const  continue  default  do  double\
else  enum  extern  float  for  goto  if  inline  int  long\
register  restrict  return  short  signed  sizeof  static  struct  switch  typedef\
union  unsigned  void  volatile  while  \_Bool  \_Complex  \_Imaginary

还有一点要注意，_一般来说应避免使用以下划线开头的标识符_，以下划线开头的标识符只要不和C语言关键字冲突的都是合法的，但是往往被编译器用作一些功能扩展，C标准库也定义了很多以下划线开头的标识符，所以除非你对编译器和C标准库特别清楚，一般应避免使用这种标识符，以免造成命名冲突。

请记住：_理解一个概念不是把定义背下来就行了，一定要理解它的外延和内涵，也就是什么情况属于这个概念，什么情况不属于这个概念，什么情况虽然属于这个概念但一般推荐的做法（Best Practice）是要尽量避免这种情况，这才算是真正理解了。_
